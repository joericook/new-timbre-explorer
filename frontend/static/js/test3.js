// Questions with synthesised sounds
let questionsTest3_synth = [
    {
        "id":"3-1_1",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_1a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_1b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"d"
    },  
    {
        "id":"3-1_2",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_2a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_2b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"a"
    },  
    {
        "id":"3-1_3",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_3a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_3b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "answer":"f"
    },
    {
        "id":"3-1_4",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_4a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_4b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"c"
    },
    {
        "id":"3-1_5",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_5a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_5b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"c"
    },
    {
        "id":"3-1_6",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_6a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_6b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"a"
    },
    {
        "id":"3-1_7",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_7a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_7b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "answer":"e"
    },
    {
        "id":"3-1_8",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_8a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_8b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "answer":"f"
    },
    {
        "id":"3-1_9",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_9a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_9b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"b"
    },
    {
        "id":"3-1_10",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_10a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_10b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"b"
    },
    {
        "id":"3-1_11",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_11a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_11b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"f"
    },
    {
        "id":"3-1_12",
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.1_sounds/3.1_12a.wav",
        "soundBSource": "static/TE_sounds/task3.1_sounds/3.1_12b.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"green\">Articulation</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"c"
    }  
]

// Questions with real instrument sounds
let questionsTest3_real = [
    {
        "id":"3-2_1",
        "pairID": 1,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/PNO.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/OBE.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"a"
    },  
    {
        "id":"3-2_2",
        "pairID": 2,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/VCP.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/TBS.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "answer":"d"
    },  
    {
        "id":"3-2_3",
        "pairID": 3,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/TUB.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/VCE.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "answer":"e"
    },
    {
        "id":"3-2_4",
        "pairID": 4,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/GIT.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/MBA.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"b"
    },  
    {
        "id":"3-2_5",
        "pairID": 5,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/HCD.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/VIB.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"c"
    },  
    {
        "id":"3-2_6",
        "pairID": 6,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/WTU.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/VLI.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"d"
    },
    {
        "id":"3-2_7",
        "pairID": 1,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/OBE.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/PNO.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"a"
    },  
    {
        "id":"3-2_8",
        "pairID": 2,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/TBS.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/VCP.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "d":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"d"
    },  
    {
        "id":"3-2_9",
        "pairID": 3,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/VCE.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/TUB.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "answer":"e"
    },
    {
        "id":"3-2_10",
        "pairID": 4,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/MBA.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/GIT.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "c":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: No Change <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"b"
    },  
    {
        "id":"3-2_11",
        "pairID": 5,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/VIB.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/HCD.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Decrease",
        "f":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Increase <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"c"
    },  
    {
        "id":"3-2_12",
        "pairID": 6,
        "question":"Identify the dimensions and directions to change sound A into sound B.",
        "soundASource": "static/TE_sounds/task3.2_sounds/VLI.wav",
        "soundBSource": "static/TE_sounds/task3.2_sounds/WTU.wav",
        "a":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "b":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: Increase",
        "c":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "d":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "e":"<mark class=\"red\">Spectrum</mark>: Increase <br> <mark class=\"yellow\">Brightness</mark>: Decrease <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "f":"<mark class=\"red\">Spectrum</mark>: Decrease <br> <mark class=\"yellow\">Brightness</mark>: No Change <br> <mark class=\"blue\">Envelope</mark>: No Change",
        "answer":"d"
    } 
]

// Declare variables
const questionTest3 = document.getElementById("questionTest3");
const answersTest3 = Array.from(document.getElementsByClassName("answer-text"));
const questionCounterTextTest3 = document.getElementById("counterTextTest3");
const scoreTextTest3 = document.getElementById("scoreTest3");

let questionCounterTest3;
let scoreTest3;
let scoreToAddTest3;
const MAX_QUESTIONS_TEST3 = 6;
let bothQuestionBanks = false;                    // Flags that both synth sounds and real sounds have been loaded
// THIS doesn't need to be declared as long as train.js is run first
// let acceptingAnswers;

startTest3 = () => {
    questionCounterTest3 = 0;
    scoreTest3 = 0;
    //console.log("questions: ", questionsTest3_synth);
    acceptingAnswers = true;

    test3Start = Date.now();

    availableQuestions = getRandomQuestionsTest3(questionsTest3_synth, MAX_QUESTIONS_TEST3);
    //console.log("randomised order: ", availableQuestions);

    getNewQuestionTest3();
}

// Shuffles available questions into a random order
const getRandomQuestionsTest3 = (arr, n) => {
    let len = arr.length;
    if (n > len) {
        throw new RangeError(
            "getRandomQuestions: more elements taken than available"
        );
    }

    // Shuffles the order of the questions
    shuffled = [...arr].sort(() => 0.5 - Math.random());
    
    // For the real instrument sounds, ensure that each forward/reverse pair of real instrument sounds is only used once
    if (bothQuestionBanks === true) {
        // Add the first question of each forward/reverse pair to 'newArray'
        newArray = [];
        for (i = 1; i < 7; i++) {
            for (j = 0; j < shuffled.length; j++) {
                if(shuffled[j].pairID === i) {
                    newArray.push(shuffled[j]);
                    break;
                }
            }
        }
        // Shuffle the order of the new array
        shuffled = [...newArray].sort(() => 0.5 - Math.random());
    }
    
    // Return randomised array of questions
    //console.log((selected = shuffled.slice(0, n)));
    return (selected = shuffled.slice(0, n));
}

const getNewQuestionTest3 = () => {
    // End when all questions have been shown from both banks, load second bank if only the first has been completed
    if (availableQuestions.length === 0) {
        //console.log("No more questions")
        if (bothQuestionBanks === true) {

            // Append to data object
            // For test 3: Overall test score; Time elapsed since start of test (s);
            testing3Data = Object.assign({ "overallTest3": {"scoreTest3": scoreTest3, "timeTest3": ((Date.now() - test3Start) / 1000)} }, testing3Data);
            testing3Data = {"testing3": testing3Data};
            //console.log(testing3Data);

            displayModalTest3();
            return;
        }
        else {
            bothQuestionBanks = true;
            availableQuestions = getRandomQuestionsTest3(questionsTest3_real, MAX_QUESTIONS_TEST3);

            getNewQuestionTest3();
            return;
        }
    }
    //console.log("questions length: ", availableQuestions.length);

    // Increment question counter and update display
    questionCounterTest3++;
    questionCounterTextTest3.innerText = questionCounterTest3 + "/" + (MAX_QUESTIONS_TEST3 * 2);

    // Update display with current question
    currentQuestion = availableQuestions[0];
    //console.log(currentQuestion);
    questionTest3.innerText = currentQuestion.question;

    // Update with correct audio files for each question
    document.getElementById("soundATest3").setAttribute("src", currentQuestion.soundASource);
    document.getElementById("soundBTest3").setAttribute("src", currentQuestion.soundBSource);

    // Display answers for each question
    answersTest3.forEach((answer) => {
        answer.innerHTML = currentQuestion[answer.dataset["answer"]];
    });

    // 3 points for first attempt, 2 for second, 1 for third
    scoreToAddTest3 = 3;

    // Array to hold users answers for each question
    let userAnswers = [];

    // Get time of question start
    questionStart = Date.now();

    // Add event listeners for answer selection
    answersTest3.forEach((answer) => {
        answer.addEventListener("click", (e) => {
            // If not accepting answers, return
            if(!acceptingAnswers) {
                //console.log("not accepting answers");
                return;
            }
            // Set acceptingAnswers to false to only allow single answer
            acceptingAnswers = false

            // This ensures that answers are still recognised if a <mark> element is clicked
            let clickedAnswer;
            if (e.target.nodeName == "MARK") {
                clickedAnswer = e.target.parentElement;
            }
            else {
                clickedAnswer = e.target;
            }

            const answerLetter = clickedAnswer.dataset["answer"]
            //console.log(answerLetter);
            // Append clicked answer to 'userAnswers'
            userAnswers.push(answerLetter);

            // Update clicked div with colour for correct or incorrect answer
            let classToApply = "incorrect";

            // If correct answer is clicked, increment score and set class to correct
            if (answerLetter === currentQuestion.answer) {
                //console.log("correct answer");
                scoreTest3 += scoreToAddTest3;
                scoreTextTest3.innerText = scoreTest3;
                classToApply = "correct";
            }
            // If incorrect answer is clicked for first and second attempts, decrement scoreToAdd, give negative feedback, then return
            else if (scoreToAddTest3 > 1) {
                scoreToAddTest3 -= 1;
                clickedAnswer.parentElement.classList.add(classToApply);
                setTimeout(() => {
                    clickedAnswer.parentElement.classList.remove(classToApply);
                    acceptingAnswers = true;
                }, 1500);
                return;
            }
            else {
                // If incorrect answer is clicked on third attempt, lower added score to 0, get next question
                scoreToAddTest3 -= 1;    
            }

            // Apply the appropriate class
            clickedAnswer.parentElement.classList.add(classToApply);

            // After time period, remove the correct/incorrect class and get the next question
            setTimeout(() => {
                clickedAnswer.parentElement.classList.remove(classToApply);

                // Append question data to object
                // Question no.: Correct answer; Users Answers; Users score for the question; 
                testing3Data = Object.assign({ [currentQuestion.id]: {"correctAnswer": currentQuestion.answer, "userAnswers": userAnswers, 
                                                "questionScore": scoreToAddTest3, "time": ((Date.now() - questionStart) / 1000)} }, testing3Data);
                //console.log(testing3Data);
                // Empty 'userAnswers' array before getting next question
                userAnswers = [];

                getNewQuestionTest3();
                acceptingAnswers = true;
            }, 1500);
        });
    });
    availableQuestions.shift();
};

hideModal = () => {
    const modal = document.getElementById("taskCompleteModal");
    modal.style.display = "none"
}

//Shows task complete modal 
displayModalTest3 = () => {
    const modal = document.getElementById("taskCompleteModal");
    const modalBody = document.getElementById("modal-body");
    modalBody.innerHTML = /*html*/`
                            <p>
                                Click next when you are ready to continue... <br>
                            </p>
                            <div class="nextButton">
                                <a class="nextText" onclick="hideModal()" href="/feedback3" data-link>Next</a>
                            </div>
                        `
    modal.style.display = "block"
}

startTest3();
