// Questions in the following JSON format:
//
//let descriptionsTrain2 = [
//    {
//        "id":"",
//        "description":"",
//        "soundASource": "",
//        "soundBSource": "",
//        "spectrumValue": "",
//        "brightnessValue": "",
//        "articulationValue": "",
//        "envelopeValue": "",
//        "sliderToMove": "[]",
//        "correctValue": "[]"
//    },...
//
// Obfuscated to protect integrity of the study

const _0x2bc5=['artiSlider','static/TE_sounds/task2.1_sounds/2.1_17b.wav','static/TE_sounds/task2.1_sounds/2.1_7b.wav','226','static/TE_sounds/task2.1_sounds/2.1_1a.wav','2-1_6','148843IGZKVW','2-1_10','150','brigSlider','123369EBtOJe','105','2-1_18','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Brightness\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20lower\x20Brightness\x20value.','static/TE_sounds/task2.1_sounds/2.1_8b.wav','2-1_20','521783nBdrBh','2-1_9','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20lower\x20Articulation\x20value.','static/TE_sounds/task2.1_sounds/2.1_7a.wav','180','static/TE_sounds/task2.1_sounds/2.1_24a.wav','static/TE_sounds/task2.1_sounds/2.1_8a.wav','2-1_12','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Brightness\x20value\x20and\x20lower\x20Envelope\x20value.','2-1_16','2-1_1','202','176','static/TE_sounds/task2.1_sounds/2.1_23a.wav','244','102','2-1_2','474654poFCAC','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Brightness\x20value\x20and\x20a\x20lower\x20Envelope\x20value.','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20higher\x20Envelope\x20value','201','164','2-1_7','1ZfJfYx','static/TE_sounds/task2.1_sounds/2.1_16b.wav','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Brightness\x20value\x20and\x20lower\x20Articulation\x20value.','181','2-1_21','static/TE_sounds/task2.1_sounds/2.1_20a.wav','208','175','220','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Brightness\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20lower\x20Brightness\x20value.','2-1_17','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20higher\x20Articulation\x20value','178','static/TE_sounds/task2.1_sounds/2.1_10a.wav','static/TE_sounds/task2.1_sounds/2.1_1b.wav','142','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Brightness\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20higher\x20Brightness\x20value','enveSlider','static/TE_sounds/task2.1_sounds/2.1_12b.wav','2-1_5','200','108','static/TE_sounds/task2.1_sounds/2.1_2b.wav','specSlider','190','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Spectrum\x20value\x20and\x20a\x20lower\x20Envelope\x20value.','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Brightness\x20value\x20and\x20a\x20higher\x20Envelope\x20value','272672EJNZyu','static/TE_sounds/task2.1_sounds/2.1_15a.wav','static/TE_sounds/task2.1_sounds/2.1_4a.wav','static/TE_sounds/task2.1_sounds/2.1_14a.wav','static/TE_sounds/task2.1_sounds/2.1_11a.wav','static/TE_sounds/task2.1_sounds/2.1_15b.wav','static/TE_sounds/task2.1_sounds/2.1_10b.wav','1DhZNXk','2-1_22','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Brightness\x20value\x20and\x20higher\x20Envelope\x20value.','static/TE_sounds/task2.1_sounds/2.1_21a.wav','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20lower\x20Articulation\x20value.','353346ySmUBd','static/TE_sounds/task2.1_sounds/2.1_6a.wav','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Brightness\x20value\x20and\x20a\x20higher\x20Articulation\x20value','215','static/TE_sounds/task2.1_sounds/2.1_18a.wav','52781zsOAcD','136','2-1_11','123','static/TE_sounds/task2.1_sounds/2.1_3b.wav','static/TE_sounds/task2.1_sounds/2.1_4b.wav','static/TE_sounds/task2.1_sounds/2.1_19a.wav','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Brightness\x20value\x20and\x20higher\x20Articulation\x20value.','2-1_3','196','static/TE_sounds/task2.1_sounds/2.1_13b.wav','132','2-1_14','static/TE_sounds/task2.1_sounds/2.1_11b.wav','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Articulation\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Articulation\x20value\x20and\x20lower\x20Envelope\x20value.','134','static/TE_sounds/task2.1_sounds/2.1_21b.wav','static/TE_sounds/task2.1_sounds/2.1_16a.wav','static/TE_sounds/task2.1_sounds/2.1_18b.wav','239','2-1_15','225','static/TE_sounds/task2.1_sounds/2.1_13a.wav','static/TE_sounds/task2.1_sounds/2.1_14b.wav','255','119','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Articulation\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Articulation\x20value\x20and\x20a\x20higher\x20Envelope\x20value','Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Brightness\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Brightness\x20value\x20and\x20a\x20lower\x20Articulation\x20value.','2-1_24','238'];function _0x8c96(_0x27db39,_0x8da578){return _0x8c96=function(_0x2bc5e7,_0x8c969f){_0x2bc5e7=_0x2bc5e7-0x1c8;let _0x1e6d79=_0x2bc5[_0x2bc5e7];return _0x1e6d79;},_0x8c96(_0x27db39,_0x8da578);}const _0xa73ff4=_0x8c96;(function(_0x5be49b,_0x5a3569){const _0x1735e8=_0x8c96;while(!![]){try{const _0x28d6fa=parseInt(_0x1735e8(0x1f9))*-parseInt(_0x1735e8(0x232))+parseInt(_0x1735e8(0x1cb))+-parseInt(_0x1735e8(0x1f3))+-parseInt(_0x1735e8(0x210))*parseInt(_0x1735e8(0x1ef))+parseInt(_0x1735e8(0x22b))+parseInt(_0x1735e8(0x20a))+parseInt(_0x1735e8(0x237));if(_0x28d6fa===_0x5a3569)break;else _0x5be49b['push'](_0x5be49b['shift']());}catch(_0x1b9b4c){_0x5be49b['push'](_0x5be49b['shift']());}}}(_0x2bc5,0x57c22));let descriptionsTrain2=[{'id':_0xa73ff4(0x203),'description':_0xa73ff4(0x220),'soundASource':_0xa73ff4(0x1ed),'soundBSource':_0xa73ff4(0x21e),'spectrumValue':'25','brightnessValue':_0xa73ff4(0x1f4),'articulationValue':_0xa73ff4(0x1c9),'envelopeValue':_0xa73ff4(0x20d),'sliderToMove':['specSlider','brigSlider'],'correctValue':[_0xa73ff4(0x217),_0xa73ff4(0x1e3)]},{'id':_0xa73ff4(0x209),'description':_0xa73ff4(0x219),'soundASource':'static/TE_sounds/task2.1_sounds/2.1_2a.wav','soundBSource':_0xa73ff4(0x226),'spectrumValue':_0xa73ff4(0x1f1),'brightnessValue':_0xa73ff4(0x1f1),'articulationValue':'152','envelopeValue':_0xa73ff4(0x20e),'sliderToMove':['specSlider',_0xa73ff4(0x1f2)],'correctValue':[_0xa73ff4(0x224),'0']},{'id':_0xa73ff4(0x1d3),'description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Brightness\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20higher\x20Brightness\x20value.','soundASource':'static/TE_sounds/task2.1_sounds/2.1_3a.wav','soundBSource':_0xa73ff4(0x1cf),'spectrumValue':'225','brightnessValue':'50','articulationValue':_0xa73ff4(0x216),'envelopeValue':_0xa73ff4(0x217),'sliderToMove':['specSlider','brigSlider'],'correctValue':['75',_0xa73ff4(0x224)]},{'id':'2-1_4','description':_0xa73ff4(0x1f6),'soundASource':_0xa73ff4(0x22d),'soundBSource':_0xa73ff4(0x1d0),'spectrumValue':_0xa73ff4(0x224),'brightnessValue':'200','articulationValue':_0xa73ff4(0x225),'envelopeValue':_0xa73ff4(0x228),'sliderToMove':['specSlider',_0xa73ff4(0x1f2)],'correctValue':['50','50']},{'id':_0xa73ff4(0x223),'description':_0xa73ff4(0x21b),'soundASource':'static/TE_sounds/task2.1_sounds/2.1_5a.wav','soundBSource':'static/TE_sounds/task2.1_sounds/2.1_5b.wav','spectrumValue':'75','brightnessValue':_0xa73ff4(0x1e8),'articulationValue':_0xa73ff4(0x1f4),'envelopeValue':'75','sliderToMove':['specSlider',_0xa73ff4(0x1e9)],'correctValue':[_0xa73ff4(0x1e3),_0xa73ff4(0x1e3)]},{'id':_0xa73ff4(0x1ee),'description':_0xa73ff4(0x1fb),'soundASource':_0xa73ff4(0x238),'soundBSource':'static/TE_sounds/task2.1_sounds/2.1_6b.wav','spectrumValue':'0','brightnessValue':'2','articulationValue':_0xa73ff4(0x224),'envelopeValue':_0xa73ff4(0x207),'sliderToMove':[_0xa73ff4(0x227),_0xa73ff4(0x1e9)],'correctValue':['150','50']},{'id':_0xa73ff4(0x20f),'description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Articulation\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20higher\x20Articulation\x20value.','soundASource':_0xa73ff4(0x1fc),'soundBSource':_0xa73ff4(0x1eb),'spectrumValue':_0xa73ff4(0x1f1),'brightnessValue':'55','articulationValue':'50','envelopeValue':_0xa73ff4(0x205),'sliderToMove':['specSlider',_0xa73ff4(0x1e9)],'correctValue':['0',_0xa73ff4(0x224)]},{'id':'2-1_8','description':_0xa73ff4(0x236),'soundASource':_0xa73ff4(0x1ff),'soundBSource':_0xa73ff4(0x1f7),'spectrumValue':_0xa73ff4(0x217),'brightnessValue':_0xa73ff4(0x213),'articulationValue':_0xa73ff4(0x224),'envelopeValue':'82','sliderToMove':['specSlider',_0xa73ff4(0x1e9)],'correctValue':['25','50']},{'id':_0xa73ff4(0x1fa),'description':_0xa73ff4(0x20c),'soundASource':'static/TE_sounds/task2.1_sounds/2.1_9a.wav','soundBSource':'static/TE_sounds/task2.1_sounds/2.1_9b.wav','spectrumValue':_0xa73ff4(0x1f4),'brightnessValue':_0xa73ff4(0x21f),'articulationValue':_0xa73ff4(0x1da),'envelopeValue':'25','sliderToMove':[_0xa73ff4(0x227),_0xa73ff4(0x221)],'correctValue':[_0xa73ff4(0x1e3),_0xa73ff4(0x217)]},{'id':_0xa73ff4(0x1f0),'description':_0xa73ff4(0x229),'soundASource':_0xa73ff4(0x21d),'soundBSource':_0xa73ff4(0x231),'spectrumValue':'50','brightnessValue':'62','articulationValue':'36','envelopeValue':_0xa73ff4(0x1e0),'sliderToMove':[_0xa73ff4(0x227),_0xa73ff4(0x221)],'correctValue':[_0xa73ff4(0x224),'75']},{'id':_0xa73ff4(0x1cd),'description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20higher\x20Envelope\x20value.','soundASource':_0xa73ff4(0x22f),'soundBSource':_0xa73ff4(0x1d8),'spectrumValue':_0xa73ff4(0x1e3),'brightnessValue':'67','articulationValue':_0xa73ff4(0x1de),'envelopeValue':'75','sliderToMove':['specSlider',_0xa73ff4(0x221)],'correctValue':[_0xa73ff4(0x1f4),_0xa73ff4(0x1e0)]},{'id':_0xa73ff4(0x200),'description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Spectrum\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Spectrum\x20value\x20and\x20lower\x20Envelope\x20value.','soundASource':'static/TE_sounds/task2.1_sounds/2.1_12a.wav','soundBSource':_0xa73ff4(0x222),'spectrumValue':_0xa73ff4(0x224),'brightnessValue':_0xa73ff4(0x208),'articulationValue':'32','envelopeValue':_0xa73ff4(0x1e3),'sliderToMove':[_0xa73ff4(0x227),_0xa73ff4(0x221)],'correctValue':['50',_0xa73ff4(0x1f4)]},{'id':'2-1_13','description':_0xa73ff4(0x1c8),'soundASource':_0xa73ff4(0x1e1),'soundBSource':_0xa73ff4(0x1d5),'spectrumValue':'138','brightnessValue':'75','articulationValue':'0','envelopeValue':'89','sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x1e9)],'correctValue':['225',_0xa73ff4(0x1f1)]},{'id':_0xa73ff4(0x1d7),'description':_0xa73ff4(0x1e6),'soundASource':_0xa73ff4(0x22e),'soundBSource':_0xa73ff4(0x1e2),'spectrumValue':'48','brightnessValue':'25','articulationValue':'150','envelopeValue':_0xa73ff4(0x1ec),'sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x1e9)],'correctValue':[_0xa73ff4(0x217),'0']},{'id':_0xa73ff4(0x1df),'description':_0xa73ff4(0x1d2),'soundASource':_0xa73ff4(0x22c),'soundBSource':_0xa73ff4(0x230),'spectrumValue':_0xa73ff4(0x1d4),'brightnessValue':_0xa73ff4(0x217),'articulationValue':'50','envelopeValue':_0xa73ff4(0x1e4),'sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x1e9)],'correctValue':['25',_0xa73ff4(0x224)]},{'id':_0xa73ff4(0x202),'description':_0xa73ff4(0x212),'soundASource':_0xa73ff4(0x1dc),'soundBSource':_0xa73ff4(0x211),'spectrumValue':'88','brightnessValue':'200','articulationValue':_0xa73ff4(0x1e0),'envelopeValue':'2','sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x1e9)],'correctValue':['50','75']},{'id':_0xa73ff4(0x21a),'description':_0xa73ff4(0x22a),'soundASource':'static/TE_sounds/task2.1_sounds/2.1_17a.wav','soundBSource':_0xa73ff4(0x1ea),'spectrumValue':_0xa73ff4(0x1d6),'brightnessValue':'50','articulationValue':_0xa73ff4(0x1ce),'envelopeValue':'50','sliderToMove':[_0xa73ff4(0x1f2),'enveSlider'],'correctValue':[_0xa73ff4(0x224),_0xa73ff4(0x224)]},{'id':_0xa73ff4(0x1f5),'description':_0xa73ff4(0x20b),'soundASource':_0xa73ff4(0x1ca),'soundBSource':_0xa73ff4(0x1dd),'spectrumValue':_0xa73ff4(0x1e4),'brightnessValue':'0','articulationValue':'162','envelopeValue':_0xa73ff4(0x217),'sliderToMove':['brigSlider','enveSlider'],'correctValue':[_0xa73ff4(0x1f1),'25']},{'id':'2-1_19','description':_0xa73ff4(0x234),'soundASource':_0xa73ff4(0x1d1),'soundBSource':'static/TE_sounds/task2.1_sounds/2.1_19b.wav','spectrumValue':'207','brightnessValue':_0xa73ff4(0x1e0),'articulationValue':_0xa73ff4(0x204),'envelopeValue':'0','sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x221)],'correctValue':['75',_0xa73ff4(0x1f1)]},{'id':_0xa73ff4(0x1f8),'description':_0xa73ff4(0x201),'soundASource':_0xa73ff4(0x215),'soundBSource':'static/TE_sounds/task2.1_sounds/2.1_20b.wav','spectrumValue':_0xa73ff4(0x1e4),'brightnessValue':'255','articulationValue':_0xa73ff4(0x1cc),'envelopeValue':_0xa73ff4(0x1f1),'sliderToMove':[_0xa73ff4(0x1f2),_0xa73ff4(0x221)],'correctValue':[_0xa73ff4(0x1f4),'0']},{'id':_0xa73ff4(0x214),'description':_0xa73ff4(0x1e5),'soundASource':_0xa73ff4(0x235),'soundBSource':_0xa73ff4(0x1db),'spectrumValue':'76','brightnessValue':_0xa73ff4(0x1fd),'articulationValue':'75','envelopeValue':'50','sliderToMove':[_0xa73ff4(0x1e9),_0xa73ff4(0x221)],'correctValue':['225',_0xa73ff4(0x224)]},{'id':_0xa73ff4(0x233),'description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Articulation\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20higher\x20Articulation\x20value\x20and\x20a\x20lower\x20Envelope\x20value.','soundASource':'static/TE_sounds/task2.1_sounds/2.1_22a.wav','soundBSource':'static/TE_sounds/task2.1_sounds/2.1_22b.wav','spectrumValue':'178','brightnessValue':'49','articulationValue':'25','envelopeValue':_0xa73ff4(0x224),'sliderToMove':[_0xa73ff4(0x1e9),_0xa73ff4(0x221)],'correctValue':['175','50']},{'id':'2-1_23','description':'Sounds\x20A\x20and\x20B\x20differ\x20along\x20the\x20Articulation\x20and\x20Envelope\x20dimensions.\x20Sound\x20B\x20has\x20a\x20lower\x20Articulation\x20value\x20and\x20higher\x20Envelope\x20value.','soundASource':_0xa73ff4(0x206),'soundBSource':'static/TE_sounds/task2.1_sounds/2.1_23b.wav','spectrumValue':_0xa73ff4(0x21c),'brightnessValue':'91','articulationValue':'255','envelopeValue':'105','sliderToMove':[_0xa73ff4(0x1e9),_0xa73ff4(0x221)],'correctValue':[_0xa73ff4(0x1f4),_0xa73ff4(0x1e3)]},{'id':_0xa73ff4(0x1e7),'description':_0xa73ff4(0x1d9),'soundASource':_0xa73ff4(0x1fe),'soundBSource':'static/TE_sounds/task2.1_sounds/2.1_24b.wav','spectrumValue':_0xa73ff4(0x218),'brightnessValue':'17','articulationValue':_0xa73ff4(0x217),'envelopeValue':'200','sliderToMove':[_0xa73ff4(0x1e9),_0xa73ff4(0x221)],'correctValue':['25','50']}];

// Declare variables
const descriptionTrain2 = document.getElementById("descriptionTrain2");
//const answers = Array.from(document.getElementsByClassName("answer-text"));
const trialCounterTextTrain2 = document.getElementById("trialCounterTextTrain2");

let trialCounterTrain2;
const MAX_TRIALS_TRAIN2 = 12;
let acceptingAnswersTrain2;

train2Start = Date.now();

let trialSliderToMoveTrain2 = [];
let initialValuesTrain2 = [0, 0];

startTraining1 = () => {
    trialCounterTrain2 = 0;
    //console.log(descriptionsTrain2);
    acceptingAnswersTrain2 = true;

    availableTrialsTrain2 = getRandomTrialsTrain2(descriptionsTrain2, MAX_TRIALS_TRAIN2);
    //console.log(availableTrialsTrain2);

    getNewTrialTrain2();
}

// Shuffles available trials into a random order
const getRandomTrialsTrain2 = (arr, n) => {
    let len = arr.length;
    if (n > len) {
        throw new RangeError(
            "getRandomTrials: more elements taken than available"
        );
    }

    // Shuffles the order of the trials
    const shuffled = [...arr].sort(() => 0.5 - Math.random());

    // Return randomised array of questions
    return (selected = shuffled.slice(0, n));
}

const getNewTrialTrain2 = () => {
    // End when all trials have been shown
    if (availableTrialsTrain2.length === 0) {
        //console.log("No more trials")
        training2Data = Object.assign({ "overallTrain2": {"timeTrain2": ((Date.now() - train2Start) / 1000)} }, training2Data);
        training2Data = {"training2": training2Data};
        //console.log(training2Data);

        displayModalTrain2();
        return;
    }

    // Increment trial counter and update display
    trialCounterTrain2++;
    trialCounterTextTrain2.innerText = trialCounterTrain2 + "/" + MAX_TRIALS_TRAIN2;

    // Update display with current description
    currentTrialTrain2 = availableTrialsTrain2[0];
    descriptionTrain2.innerText = currentTrialTrain2.description;

    // Update with correct audio files for each trial
    document.getElementById("soundATrain2").setAttribute("src", currentTrialTrain2.soundASource);
    document.getElementById("soundBTrain2").setAttribute("src", currentTrialTrain2.soundBSource);

    //console.log("current trial: " + currentTrialTrain2.spectrumValue, currentTrialTrain2.brightnessValue, currentTrialTrain2.articulationValue, currentTrialTrain2.envelopeValue);
    // Set sliders to starting positions for each trial: values of Sound A
    document.getElementById("specSlider").value = currentTrialTrain2.spectrumValue;
    document.getElementById("brigSlider").value = currentTrialTrain2.brightnessValue;
    document.getElementById("artiSlider").value = currentTrialTrain2.articulationValue;
    document.getElementById("enveSlider").value = currentTrialTrain2.envelopeValue;

    // These setAttributes are necessary to trigger the mutation observers in TimbreXWeb.js
    document.getElementById("specSlider").setAttribute("value", currentTrialTrain2.spectrumValue);
    document.getElementById("brigSlider").setAttribute("value", currentTrialTrain2.brightnessValue);
    document.getElementById("artiSlider").setAttribute("value", currentTrialTrain2.articulationValue);
    document.getElementById("enveSlider").setAttribute("value", currentTrialTrain2.envelopeValue);

    trialStart = Date.now();

    for (let i = 0; i < 2; i++) {
        trialSliderToMoveTrain2[i] = currentTrialTrain2.sliderToMove[i];

        //console.log(trialSliderToMoveTrain2[i]);

        if (trialSliderToMoveTrain2[i] == "specSlider") {
            initialValuesTrain2[i] = currentTrialTrain2.spectrumValue;
        }
        else if (trialSliderToMoveTrain2[i] == "brigSlider") {
            initialValuesTrain2[i] = currentTrialTrain2.brightnessValue;
        }
        else if (trialSliderToMoveTrain2[i] == "artiSlider") {
            initialValuesTrain2[i] = currentTrialTrain2.articulationValue;
        }
        else if (trialSliderToMoveTrain2[i] == "enveSlider") {
            initialValuesTrain2[i] = currentTrialTrain2.envelopeValue;
        }
    }

    //console.log("sliders to move: ", trialSliderToMoveTrain2);
    //console.log("initial values: ", initialValuesTrain2);

    // Add event listeners for answer selection
    let nextCardTrain2 = document.getElementById("nextCardTrain2");  

    nextCardTrain2.addEventListener("click", () => {
        // If not accepting answers, return
        if(!acceptingAnswersTrain2) {
            //console.log("not accepting answers");
            return;
        }
        // Checks if the trial's sliders have been moved; if they haven't, alert user and return
        else if (initialValuesTrain2[0] == document.getElementById(trialSliderToMoveTrain2[0]).value || 
                 initialValuesTrain2[1] == document.getElementById(trialSliderToMoveTrain2[1]).value) {
            //console.log("slider must be moved");
            $( "div.warning" ).fadeIn( 300 );
            return;
        }
          
        // Fade out the warning div when slider has been moved
        let warningDivTrain2 = document.getElementById("warningTrain2");
        if (warningDivTrain2.style.display == "block") {
            $( "div.warning" ).fadeOut( 300 );
        } 

        // Set acceptingAnswers to false to prevent double skip
        acceptingAnswersTrain2 = false;

        // Update clicked div with colour for feedback 
        let classToApplyTrain2 = "correct";
            
        // Apply the appropriate class
        nextCardTrain2.classList.add(classToApplyTrain2);

        trialSlider = [];
        userValue = [];

        for (let i = 0; i < 2; i++) {
            if (currentTrialTrain2.sliderToMove[i] === "specSlider") {
                trialSlider[i] = "spectrum";
                userValue[i] = document.getElementById("specSlider").value;
            }
            else if (currentTrialTrain2.sliderToMove[i] === "brigSlider") {
                trialSlider[i] = "brightness";
                userValue[i] = document.getElementById("brigSlider").value;
            }
            else if (currentTrialTrain2.sliderToMove[i] === "artiSlider") {
                trialSlider[i] = "articulation";
                userValue[i] = document.getElementById("artiSlider").value;
            }
            else if (currentTrialTrain2.sliderToMove[i] === "enveSlider") {
                trialSlider[i] = "envelope";
                userValue[i] = document.getElementById("enveSlider").value;
            }
        }

        // After time period, remove the correct/incorrect class and get the next question
        setTimeout(() => {
            nextCardTrain2.classList.remove(classToApplyTrain2);

            // Element-wise subtraction for accuracy of each slider moved
            acc = [];
            for(var i = 0; i < 2; i++) {
                acc.push(userValue[i] - currentTrialTrain2.correctValue[i]);
            }

            // Append trial data to object
            // Trial no.: sliders; correct values; user's values; accuracy (how close user values are to correct values); 
            training2Data = Object.assign({ [currentTrialTrain2.id]: {"slider": trialSlider, "correctValue": currentTrialTrain2.correctValue, 
                                            "userValue": userValue, "accuracy": (acc), "time": ((Date.now() - trialStart) / 1000)} }, training2Data);
            //console.log(training2Data);

            getNewTrialTrain2();
            acceptingAnswersTrain2 = true;
        }, 1000);
    });
    availableTrialsTrain2.shift();
};

hideModal = () => {
    const modal = document.getElementById("taskCompleteModal");
    modal.style.display = "none"
}

//Shows task complete modal 
displayModalTrain2 = () => {
    const modal = document.getElementById("taskCompleteModal");
    const modalBody = document.getElementById("modal-body");
    modalBody.innerHTML = /*html*/`
                            <p>
                                In the next task, you will presented with a single sound at a time. Each sound will be <strong>high</strong> or <strong>low</strong> in 2 of the Timbre Explorer
                                dimensions, and in the middle for the other 2 dimensions.<br><br>
                                Listen to each sound and <strong>identify which Timbre Explorer dimensions are high and/or low</strong>.<br><br>
                                For each sound you will have <strong>3</strong> attempts to find the correct answer. Click next when you are ready to begin... 
                            </p>
                            <div class="nextButton">
                                <a class="nextText" onclick="hideModal()" href="/testing2" data-link>Next</a>
                            </div>
                        `
    modal.style.display = "block"
}

startTraining1();